<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ghost Keyboard</title>
    
    <style>
        /* --- THEME VARIABLES --- */
        :root {
            --bg-color: #050505;
            --text-color: #e0e0e0;
            --key-bg: #2d2d30;
            --key-active: #fff;
            
            /* Varsayƒ±lan (Deƒüi≈ükenler JS ile ezilecek) */
            --accent-color: #00ff9d; 
            --glow-color: rgba(0, 255, 157, 0.4);
            --bg-gradient: radial-gradient(circle at 50% 50%, #05150a 0%, #000 100%);
        }

        /* --- THEME CLASSES --- */
        body.theme-easy {
            --accent-color: #00f2ff; /* Cyber Blue */
            --glow-color: rgba(0, 242, 255, 0.4);
            --bg-gradient: radial-gradient(circle at 50% 50%, #0a1525 0%, #000 100%);
        }

        body.theme-normal {
            --accent-color: #00ff9d; /* Matrix Green */
            --glow-color: rgba(0, 255, 157, 0.4);
            --bg-gradient: radial-gradient(circle at 50% 50%, #05150a 0%, #000 100%);
        }

        body.theme-hard {
            --accent-color: #ff003c; /* Red Alert */
            --glow-color: rgba(255, 0, 60, 0.4);
            --bg-gradient: radial-gradient(circle at 50% 50%, #250505 0%, #000 100%);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }

        body {
            background: var(--bg-gradient);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100dvh; 
            margin: 0;
            overflow: hidden;
            touch-action: none;
            transition: background 0.5s ease;
        }

        /* Scanline Effect */
        .scanline {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
            background-size: 100% 4px;
            pointer-events: none; z-index: 0;
        }

        .container {
            width: 100%; max-width: 420px; height: 100%;
            display: flex; flex-direction: column; 
            justify-content: center; align-items: center;
            padding: 20px; gap: 30px;
            position: relative; z-index: 2;
        }

        /* --- TOP SECTION --- */
        .top-section { width: 100%; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        
        .logo-area { text-align: center; }
        .ghost-icon { font-size: 4rem; display: block; animation: float 3s infinite ease-in-out; filter: drop-shadow(0 0 10px rgba(255,255,255,0.2)); }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        h1 { 
            font-size: 2.5rem; margin: 5px 0; color: #fff; 
            text-transform: uppercase; font-family: 'Courier New', monospace; 
            line-height: 0.9; font-weight: 900; letter-spacing: -2px;
        }
        h1 span { 
            color: var(--accent-color); 
            text-shadow: 0 0 15px var(--glow-color); 
            transition: color 0.5s ease, text-shadow 0.5s ease;
        }

        .tutorial-box {
            background: #111; border: 1px solid #333; border-radius: 12px;
            padding: 20px; width: 100%; max-width: 350px;
            text-align: left; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .tut-item { display: flex; align-items: center; margin-bottom: 12px; color: #bbb; font-size: 0.9rem; }
        .tut-item:last-child { margin-bottom: 0; }
        .tut-icon { margin-right: 12px; font-size: 1.1rem; }

        /* --- SETTINGS SECTION --- */
        .bottom-section { width: 100%; display: flex; flex-direction: column; gap: 15px; }
        
        .selector-group { width: 100%; }
        .lbl { 
            font-size: 0.7rem; color: #666; margin-bottom: 8px; display: block; 
            text-align: center; letter-spacing: 3px; font-family: 'Courier New', monospace; font-weight: bold; 
        }
        
        .btn-row { display: flex; justify-content: center; gap: 8px; }
        
        .mode-btn {
            background: transparent; 
            border: 1px solid #333; 
            color: #666;
            padding: 12px; border-radius: 6px; cursor: pointer;
            font-size: 0.8rem; font-weight: bold; transition: all 0.3s ease; flex: 1; 
            text-align: center; font-family: 'Courier New', monospace;
        }
        
        .mode-btn.active { 
            background: var(--accent-color); 
            color: #000; 
            border-color: var(--accent-color); 
            box-shadow: 0 0 15px var(--glow-color); 
            transform: scale(1.05);
        }

        .main-btn {
            background: var(--accent-color); color: #000; border: none;
            width: 100%; padding: 18px; font-size: 1.2rem; font-weight: 900;
            border-radius: 10px; margin-top: 10px; cursor: pointer;
            text-transform: uppercase; letter-spacing: 2px;
            box-shadow: 0 0 25px var(--glow-color);
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
        }
        .main-btn:active { transform: scale(0.98); }

        /* --- GAME SCREENS --- */
        #game-screen, #result-screen { display: none; width: 100%; height: 100%; flex-direction: column; justify-content: space-between; }
        #result-screen { justify-content: center; }

        .hud-top { display: flex; justify-content: space-between; margin-bottom: 10px; color: #888; font-family: 'Courier New', monospace; font-size: 0.8rem;}
        .target-box { 
            background: rgba(255,255,255,0.05); border: 1px dashed #444; 
            border-radius: 12px; padding: 20px; min-height: 100px;
            display: flex; align-items: center; justify-content: center; text-align: center;
            margin-bottom: 20px; 
        }
        .target-text { font-size: 1.3rem; color: #fff; font-weight: 600; line-height: 1.4; }
        
        .input-box { 
            font-size: 1.5rem; color: var(--accent-color); text-align: center; 
            border-bottom: 2px solid #333; min-height: 40px; margin-bottom: 20px; 
            font-family: monospace; white-space: pre;
            transition: color 0.5s ease;
        }
        .cursor { display: inline-block; width: 2px; height: 24px; background: var(--accent-color); animation: blink 1s infinite; margin-left:2px; transition: background 0.5s ease;}
        @keyframes blink { 50% { opacity: 0; } }

        /* --- KEYBOARD --- */
        .keyboard { display: flex; flex-direction: column; width: 100%; background: #000; padding: 5px 2px; }
        .row { display: flex; justify-content: center; margin-bottom: 8px; width: 100%; }
        
        .key {
            background: var(--key-bg); color: #fff; height: 48px; border-radius: 6px;
            display: flex; align-items: center; justify-content: center;
            position: relative; cursor: pointer; font-size: 1.4rem;
            margin: 0 2px; box-shadow: 0 1px 0 #000;
            flex: 0 0 auto; width: var(--key-width);
            user-select: none;
        }

        .key span { opacity: 0; } 
        .key.special span, .key.enter span { opacity: 1; }

        .key:active, .key.active-key { 
            background: #555; transform: scale(1.2); z-index: 99; border-radius: 6px; 
            box-shadow: 0 0 15px rgba(255,255,255,0.2);
        }
        .key.active-key span { opacity: 1; color: #fff; }

        .key.special { background: #3a3a3c; font-size: 0.9rem; width: 13% !important; }
        .key.space { flex-grow: 1; width: auto !important; background: var(--key-bg); font-size: 0.8rem; color: #666; }
        .key.space span { opacity: 1; }
        .key.enter { 
            width: 24% !important; 
            background: var(--accent-color); 
            color: #000; font-weight: 800;
            transition: background 0.5s ease;
        }
        
        .row.staggered { padding: 0 4%; }

        /* --- RESULTS --- */
        .roast-box { 
            background: #111; border: 1px solid var(--accent-color); color: #fff; 
            padding: 20px; border-radius: 10px; margin: 20px 0; 
            text-align: center; font-style: italic; font-family: 'Courier New', monospace; 
            box-shadow: 0 0 20px var(--glow-color);
            transition: border-color 0.5s ease, box-shadow 0.5s ease;
        }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-family: 'Courier New', monospace; }
        .stat-card { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; text-align: center; }
        .stat-num { font-size: 2.2rem; font-weight: bold; color: #fff; display: block; }
        .stat-lbl { font-size: 0.7rem; color: #666; text-transform: uppercase; }

    </style>
</head>
<body class="theme-easy"> <!-- Default Theme -->

    <div class="scanline"></div>

    <div class="container">
        
        <!-- START SCREEN -->
        <div id="start-screen" style="display: flex; flex-direction: column; width: 100%; align-items: center; gap: 30px;">
            <div class="top-section">
                <div class="logo-area">
                    <span class="ghost-icon">üëª</span>
                    <h1>GHOST<br><span>KEYBOARD</span></h1>
                </div>
                
                <div class="tutorial-box">
                    <div class="tut-item">
                        <span class="tut-icon">üëÄ</span>
                        <span>Read the phrase.</span>
                    </div>
                    <div class="tut-item">
                        <span class="tut-icon">‚å®Ô∏è</span>
                        <span>Type blindly (Keys are invisible).</span>
                    </div>
                    <div class="tut-item">
                        <span class="tut-icon">üß†</span>
                        <span>Trust your muscle memory.</span>
                    </div>
                </div>
            </div>

            <div class="bottom-section">
                <div class="selector-group">
                    <span class="lbl">DIFFICULTY</span>
                    <div id="diff-row" class="btn-row">
                        <div class="mode-btn active" data-val="easy" onclick="setDiff('easy', this)">NOOB</div>
                        <div class="mode-btn" data-val="normal" onclick="setDiff('normal', this)">PRO</div>
                        <div class="mode-btn" data-val="hard" onclick="setDiff('hard', this)">HACKER</div>
                    </div>
                </div>

                <div class="selector-group">
                    <span class="lbl">LANGUAGE</span>
                    <div id="lang-row" class="btn-row">
                        <div class="mode-btn" onclick="setLang('en', this)">ENG üá∫üá∏</div>
                        <div class="mode-btn active" onclick="setLang('tr', this)">TUR üáπüá∑</div>
                    </div>
                </div>

                <button class="main-btn" onclick="startGame()">START GAME</button>
            </div>
        </div>

        <!-- GAME SCREEN -->
        <div id="game-screen">
            <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
                <div class="hud-top">
                    <span id="mode-display" style="color:var(--accent-color)">NOOB MODE</span>
                    <span id="timer">0.0s</span>
                </div>

                <div class="target-box">
                    <span id="target-text" class="target-text">Loading...</span>
                </div>

                <div class="input-box">
                    <span id="user-input"></span><div class="cursor"></div>
                </div>
                
                <div id="hacker-warning" style="display:none; color:#ff003c; font-size:0.7rem; text-align:center; margin-bottom:10px; text-transform: uppercase; font-weight: bold; letter-spacing: 1px;">
                    ‚ö†Ô∏è Backspace Disabled ‚ö†Ô∏è
                </div>
            </div>

            <div class="keyboard" id="kb-container"></div>
        </div>

        <!-- RESULT SCREEN -->
        <div id="result-screen">
            <h2 style="font-size: 2.5rem; color: #fff; font-family: 'Courier New', monospace; margin-bottom: 10px; text-shadow: 0 0 10px rgba(255,255,255,0.3);">GAME OVER</h2>
            
            <div class="roast-box">
                <span id="roast-msg">...</span>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-num" id="res-wpm">0</span>
                    <span class="stat-lbl">WPM</span>
                </div>
                <div class="stat-card">
                    <span class="stat-num" id="res-acc">0%</span>
                    <span class="stat-lbl">ACCURACY</span>
                </div>
            </div>

            <div style="margin-top: 20px; font-family: monospace; font-size: 0.8rem; background: #111; padding: 15px; border-radius: 8px; text-align: left;">
                <div style="color: #555; margin-bottom: 5px;">TARGET:</div>
                <div id="res-target" style="color: var(--accent-color); margin-bottom: 10px;"></div>
                <div style="color: #555; margin-bottom: 5px;">YOU:</div>
                <div id="res-typed" style="color: #fff; word-break: break-all;"></div>
            </div>

            <button class="main-btn" onclick="location.reload()">TRY AGAIN</button>
            <button style="background: transparent; border: 1px solid #333; color: #666; width: 100%; padding: 15px; border-radius: 12px; margin-top: 10px; cursor: pointer;" onclick="shareScore()">SHARE RESULT</button>
        </div>

    </div>

    <script>
        const config = { diff: 'easy', lang: 'tr', backspace: true };

        const phrases = {
            en: { 
                easy: [
                    "linux", "sudo", "root", "admin", "bug", "glitch", 
                    "joker", "neo", "yoda", "bond", "stark", "nasa",
                    "wasd", "noob", "lag", "afk", "ggwp", "tesla", "rm-rf", "danger", "matrix", "frodo",
                    "bazinga", "muggle", "mordor", "gollum", "frodo",  
                    "fsociety", "elliot", "darlene", "robot",          
                    "neo", "trinity", "morpheus", "oracle",            
                    "hogwarts", "dobby", "draco", "snape",             
                    "sheldon", "penny", "leonard", "cooper"    
                ], 
                normal: [
                    "hello world", "works on my machine", 
                    "winter is coming", "may the force be with you", 
                    "there is no spoon", "show me the money", 
                    "game over player one", "why so serious",
                    "just do it", "bond james bond",
                     "first rule of fight club", "but first coffee", 
                    "hello friend",              
                    "my precious",               
                    "follow the white rabbit",   
                    "you are a wizard harry",    
                    "that is my spot",           
                    "soft kitty warm kitty",     
                    "there is no spoon",         
                    "fly you fools",             
                    "expecto patronum",          
                    "control is an illusion"     
                ], 
                hard: [
                    "sudo rm -rf /", "console.log('Error');", 
                    "if (alive) { code(); }", "404: Page not found.", 
                    "You shall not pass!", "Houston, we have a problem.", 
                    "To infinity and beyond!", "E = mc^2",
                    "hasta la vista baby", "my precious", "i need coffee immediately",
                    "You shall not pass!",       
                    "Knock, knock, knock, Penny!", 
                    "I solemnly swear that I am up to no good.", 
                    "Welcome to the desert of the real.", 
                    "One Ring to rule them all.", 
                    "Our democracy has been hacked.", 
                    "I am not crazy, my mother had me tested.", 
                    "Master has given Dobby a sock!" 
                ] 
            },
            tr: { 
                easy: [
                    "yazilim", "kod", "java", "html", "format",
                    "ramiz", "polat", "bihter", "leyla", "mecnun",
                    "gora", "ezel", "kaos", "simit", "kedi", "√ßay", "okul", "i≈üler g√º√ßler",
                    "bazinga", "muggle", "kiymetli", "yuzuk", "hobbit", 
                    "neo", "secilmis", "ajan", "matrix",
                    "fsociety", "hacker", "beyaz", "tavsan",
                    "asa", "buyu", "voldemort", "potter"
                ], 
                normal: [
                    "kod calisiyor elleme", "kapatip ac duzelir",
                    "o gemi bir gun gelecek", "mesele olmek degil",
                    "burasi karisacak",
                    "muslum baba affeder", "winter is coming",
                    "seni sectim pikacu", "bir cisim yaklasiyor", "kiymetlimiss", "sen bir buyucusun harry"
                ], 
                hard: [
                    "Noktali virgul nerede;", "SELECT * FROM dertler;",
                    "Abi bana site yapsana?", "404 Sayfa Bulunamadi.",
                    "Bir cisim yaklasiyor efendim!", "Zeki Muren de bizi gorecek mi?",
                    "Dusunuyorum, oyleyse varim.", "Yurtta sulh, cihanda sulh."
                ] 
            }
        };

        let state = { active: false, target: "", input: "", start: 0, timer: null };

        // --- AUDIO SYSTEM ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            
            // Creates a mechanical click sound
            osc.frequency.setValueAtTime(800, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.04);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.04);
            
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.05);
        }

        // --- BUTTON & THEME LOGIC ---
        function setDiff(val, btn) {
            config.diff = val;
            config.backspace = val !== 'hard';
            
            // UI Update
            document.querySelectorAll('#diff-row .mode-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            // Theme Switch
            document.body.className = ''; // Reset classes
            document.body.classList.add('theme-' + val); // Add new theme

            playSound();
        }
        
        function setLang(val, btn) {
            config.lang = val;
            
            // UI Update
            document.querySelectorAll('#lang-row .mode-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            playSound();
        }

        // --- INTERACTIVE KEYS ---
        function dummyInteraction(e) {
            e.preventDefault();
            if(navigator.vibrate) navigator.vibrate(10);
            playSound();
            const el = e.target.closest('.key');
            if(el) {
                el.classList.add('active-key');
                setTimeout(() => el.classList.remove('active-key'), 100);
            }
        }

        function initKeyboard() {
            const container = document.getElementById('kb-container');
            container.innerHTML = '';
            let rows = [];
            
            if(config.lang === 'tr') {
                rows = ["qwertyuƒ±opƒü√º", "asdfghjkl≈üi", "zxcvbnm√∂√ß"];
                document.documentElement.style.setProperty('--key-width', '7.8%'); 
            } else {
                rows = ["qwertyuiop", "asdfghjkl", "zxcvbnm"];
                document.documentElement.style.setProperty('--key-width', '9.2%'); 
            }

            // Row 1
            let r1 = document.createElement('div'); r1.className = 'row';
            rows[0].split('').forEach(c => r1.appendChild(createKey(c)));
            container.appendChild(r1);

            // Row 2
            let r2 = document.createElement('div'); r2.className = 'row staggered';
            rows[1].split('').forEach(c => r2.appendChild(createKey(c)));
            container.appendChild(r2);

            // Row 3
            let r3 = document.createElement('div'); r3.className = 'row';
            
            // Shift Key (Interactive Dummy)
            let shift = document.createElement('div'); 
            shift.className = 'key special'; 
            shift.innerHTML = '<span>‚áß</span>'; 
            shift.addEventListener('touchstart', dummyInteraction);
            shift.addEventListener('mousedown', dummyInteraction);
            r3.appendChild(shift); 

            rows[2].split('').forEach(c => r3.appendChild(createKey(c)));
            
            let bk = document.createElement('div'); 
            bk.className = 'key special'; 
            bk.style.opacity = config.backspace ? '1' : '0.3';
            bk.innerHTML = config.backspace ? '<span>‚å´</span>' : '<span>üîí</span>';
            const bkHandler = (e)=>{
                e.preventDefault(); 
                if(config.backspace) handle('BACKSPACE', bk);
                else if(navigator.vibrate) navigator.vibrate([50,50,50]); 
            };
            bk.addEventListener('touchstart', bkHandler);
            bk.addEventListener('mousedown', bkHandler);
            r3.appendChild(bk);
            container.appendChild(r3);

            // Row 4
            let r4 = document.createElement('div'); r4.className = 'row';
            
            // 123 Key (Interactive Dummy)
            let k123 = document.createElement('div'); k123.className = 'key special'; k123.innerHTML = '<span>123</span>'; 
            k123.addEventListener('touchstart', dummyInteraction); k123.addEventListener('mousedown', dummyInteraction);
            r4.appendChild(k123);

            // Emoji Key (Interactive Dummy)
            let kemj = document.createElement('div'); kemj.className = 'key special'; kemj.innerHTML = '<span>üòÄ</span>'; 
            kemj.addEventListener('touchstart', dummyInteraction); kemj.addEventListener('mousedown', dummyInteraction);
            r4.appendChild(kemj);
            
            let kspc = document.createElement('div'); kspc.className = 'key space'; kspc.innerHTML = '<span>space</span>';
            const spcHandler = (e)=>{e.preventDefault(); handle(' ', kspc);};
            kspc.addEventListener('touchstart', spcHandler);
            kspc.addEventListener('mousedown', spcHandler);
            r4.appendChild(kspc);
            
            let kent = document.createElement('div'); kent.className = 'key enter'; kent.innerHTML = '<span>GO</span>';
            const entHandler = (e)=>{e.preventDefault(); finish();};
            kent.addEventListener('touchstart', entHandler);
            kent.addEventListener('mousedown', entHandler);
            r4.appendChild(kent);
            
            container.appendChild(r4);
        }

        function createKey(char) {
            let k = document.createElement('div'); k.className = 'key letter'; k.innerHTML = `<span>${char.toUpperCase()}</span>`;
            const press = (e) => { e.preventDefault(); handle(char, k); };
            k.addEventListener('touchstart', press); k.addEventListener('mousedown', press); return k;
        }

        function startGame() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            playSound();

            const pool = phrases[config.lang][config.diff];
            state.target = pool[Math.floor(Math.random() * pool.length)];
            state.input = ""; state.active = true; state.start = Date.now();

            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'flex';
            initKeyboard();
            
            document.getElementById('target-text').innerText = state.target;
            document.getElementById('mode-display').innerText = config.diff.toUpperCase() + " MODE";
            document.getElementById('hacker-warning').style.display = config.diff === 'hard' ? 'block' : 'none';
            updateUI();

            if(state.timer) clearInterval(state.timer);
            state.timer = setInterval(() => {
                document.getElementById('timer').innerText = ((Date.now()-state.start)/1000).toFixed(1)+'s';
            }, 100);
        }

        function handle(char, el) {
            if(!state.active) return;
            if(navigator.vibrate) navigator.vibrate(10);
            playSound();
            if(el) { el.classList.add('active-key'); setTimeout(()=>el.classList.remove('active-key'), 100); }
            
            if(char === 'BACKSPACE') state.input = state.input.slice(0, -1);
            else state.input += char;
            updateUI();
        }

        function updateUI() { document.getElementById('user-input').innerText = state.input; }

        function finish() {
            if(!state.active) return;
            state.active = false; clearInterval(state.timer);
            
            const t = (Date.now()-state.start)/1000;
            const acc = calcAcc(state.target, state.input);
            const wpm = Math.round((state.input.length/5)/(t/60)) || 0;

            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'flex';
            document.getElementById('res-acc').innerText = acc + "%";
            document.getElementById('res-wpm').innerText = wpm;
            document.getElementById('res-target').innerText = state.target;
            document.getElementById('res-typed').innerText = state.input;
            document.getElementById('roast-msg').innerText = getRoast(acc, wpm);
        }

        function calcAcc(a,b) {
            if (config.diff !== 'hard') { a = a.toLowerCase(); b = b.toLowerCase(); }
            let m=0; let len = Math.max(a.length, b.length);
            if (len === 0) return 0;
            for(let i=0;i<len;i++) if(a[i]===b[i]) m++;
            return Math.floor((m/len)*100);
        }

        function getRoast(acc, wpm) {
            const pick = (arr) => arr[Math.floor(Math.random() * arr.length)];

            // SCENARIO 1: HACKER / GOD MODE
            if (config.diff === 'hard' && acc > 90) {
                return pick([
                    "CYBORG DETECTED ü§ñ", 
                    "Are you Mr. Robot? üë®‚Äçüíª", 
                    "He is the One. üï∂Ô∏è",
                    "Matrix has you. üëΩ"
                ]);
            }

            // SCENARIO 2: GRANDMA MODE
            if (acc === 100) {
                if (wpm > 60) return pick(["GOD TIER üî•", "Touch some grass. üåø", "Insane speed. üöÄ"]);
                return pick([
                    "Grandma speed, but perfect. üëµ", 
                    "Slow and steady. üê¢", 
                    "Did you sleep? üí§"
                ]);
            }

            // SCENARIO 3: ALMOST PERFECT
            if (acc >= 90) {
                return pick([
                    "So close! ü§è", 
                    "One typo ruined your career. üìâ", 
                    "Not bad at all. üëç"
                ]);
            }

            // SCENARIO 4: SPAMMER
            if (wpm > 70 && acc < 60) {
                return pick([
                    "Fast fingers, empty brain. üß†", 
                    "Calm down chicken. üêî", 
                    "Spamming isn't typing. üóëÔ∏è"
                ]);
            }

            // SCENARIO 5: AVERAGE
            if (acc >= 50) {
                return pick([
                    "Are you typing with your elbows? üí™", 
                    "Mediocre. üòê", 
                    "Try using fingers. üñêÔ∏è"
                ]);
            }

            // SCENARIO 6: DISASTER
            return pick([
                "Delete the app. üíÄ", 
                "Emotional Damage. üíî", 
                "My eyes hurt. ü´£"
            ]);
        }

        function shareScore() {
            const txt = `Ghost Keyboard (${config.diff.toUpperCase()}): ${document.getElementById('res-acc').innerText} Acc, ${document.getElementById('res-wpm').innerText} WPM. Beat me! üëª`;
            navigator.clipboard.writeText(txt).then(()=>alert("Score copied to clipboard!"));
        }
    </script>
</body>
</html>
